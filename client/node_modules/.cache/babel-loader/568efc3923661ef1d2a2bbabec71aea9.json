{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\bekke\\\\Documents\\\\Art Website\\\\client\\\\src\\\\Settings\\\\settings.js\";\nimport React, { Component } from 'react';\nimport Header from '../Navigation/header';\nimport Footer from '../Navigation/footer';\nimport './settings.css';\nimport axios from 'axios';\nimport { createBrowserHistory } from 'history';\nimport AccountSettings from './account_settings';\nimport DisclaimerSettings from './disclaimer_settings';\nimport SubscriptionsSettings from './subscriptions_settings';\nimport BillingHistory from './billing_history';\nimport PaymentInfo from './payment_info';\nimport ShippingDetails from './shipping_details';\n\nclass Settings extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data_exists: false,\n      account_clicked: false,\n      subscriptions_clicked: false,\n      billing_history_clicked: false,\n      payment_info_clicked: false,\n      shipping_details_clicked: false,\n      category: [],\n      count: [],\n      frequency: [],\n      price: [],\n      diet: [],\n      fragrance: [],\n      // Billing ---------\n      invoice_number: '',\n      amount: '',\n      date: '',\n      status: '',\n      // Payment Information ---------\n      last_four: '',\n      billing_address: '',\n      type: '',\n      exp_month: '',\n      exp_year: ''\n    };\n  }\n\n  async componentDidMount() {\n    const user_ID = localStorage.getItem('user_ID');\n    const history = createBrowserHistory(); // Get Subscriptions \n\n    axios.post('http://localhost:8080/subscription-settings', {\n      user_ID\n    }).then(response => {\n      if (response.data == 'No subscriptions') {\n        this.setState({\n          subscriptions: false\n        });\n      } else {\n        this.setState({\n          data_exists: true\n        });\n        response.data.forEach(values => {\n          this.state.category.push(values.category);\n          this.state.frequency.push(values.frequency);\n          this.state.price.push(values.price);\n          this.state.diet.push(values.diet_restrictions);\n          this.state.fragrance.push(values.fragrance_allergies);\n          this.state.count.push(values.count);\n        });\n      }\n    }).catch(err => {\n      if (err.response.status == 404) {\n        history.push('/error404/not_found');\n        window.location.reload();\n      } else if (err.response.status == 500) {\n        history.push('/error500/internal_server_error');\n        window.location.reload();\n      } else {\n        history.push('/error');\n        window.location.reload();\n      }\n    }); // Get Billing History\n\n    await axios.post('http://localhost:8080/billing-history', {\n      user_ID\n    }).then(response => {\n      this.setState({\n        invoice_number: response.data.invoice_number,\n        amount: response.data.amount,\n        date: response.data.date,\n        status: response.data.status\n      });\n    }); // Payment Information ------------\n\n    await axios.post('http://localhost:8080/payment-settings', {\n      user_ID\n    }).then(response => {\n      this.setState({\n        last_four: response.data.lastFour,\n        billing_address: response.data.billingAddress,\n        type: response.data.type,\n        exp_month: response.data.exp_month,\n        exp_year: response.data.exp_year\n      });\n    }).catch(err => {\n      if (err.response.status == 404) {\n        history.push('/error404/not_found');\n        window.location.reload();\n      } else if (err.response.status == 500) {\n        history.push('/error500/internal_server_error');\n        window.location.reload();\n      } else {\n        history.push('/error');\n        window.location.reload();\n      }\n    });\n  }\n\n  render() {\n    document.body.style.background = \"white\";\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(DisclaimerSettings, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"settings-navbar d-flex flex-column\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            onClick: () => this.setState({\n              account_clicked: true,\n              subscriptions_clicked: false,\n              billing_history_clicked: false,\n              payment_info_clicked: false,\n              shipping_details_clicked: false\n            }),\n            children: \"Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            onClick: () => this.setState({\n              account_clicked: false,\n              subscriptions_clicked: true,\n              billing_history_clicked: false,\n              payment_info_clicked: false,\n              shipping_details_clicked: false\n            }),\n            children: \"Subscriptions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            onClick: () => this.setState({\n              account_clicked: false,\n              subscriptions_clicked: false,\n              billing_history_clicked: true,\n              payment_info_clicked: false,\n              shipping_details_clicked: false\n            }),\n            children: \"Billing History\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            onClick: () => this.setState({\n              account_clicked: false,\n              subscriptions_clicked: false,\n              billing_history_clicked: false,\n              payment_info_clicked: true,\n              shipping_details_clicked: false\n            }),\n            children: \"Payment Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            onClick: () => this.setState({\n              account_clicked: false,\n              subscriptions_clicked: false,\n              billing_history_clicked: false,\n              payment_info_clicked: false,\n              shipping_details_clicked: true\n            }),\n            children: \"Shipping Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [this.state.account_clicked ? /*#__PURE__*/_jsxDEV(AccountSettings, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 55\n          }, this) : null, this.state.subscriptions_clicked ? /*#__PURE__*/_jsxDEV(SubscriptionsSettings, {\n            category: this.state.category,\n            frequency: this.state.frequency,\n            price: this.state.price,\n            diet: this.state.diet,\n            fragrance: this.state.fragrance,\n            subscription_exists: true,\n            count: this.state.count\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 61\n          }, this) : null, this.state.billing_history_clicked ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"display-settings-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"settings-title billing-history-settings-title\",\n              style: {\n                marginLeft: 230 + 'px'\n              },\n              children: \"Billing History\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 33\n            }, this), this.state.data_exists ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"invoice-categories d-flex flex-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Inv No.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 41\n              }, this), this.state.category.map((categories, index) => {\n                return /*#__PURE__*/_jsxDEV(BillingHistory, {\n                  category: categories,\n                  invoice_number: this.state.invoice_number[index],\n                  amount: this.state.amount[index],\n                  date: this.state.date[index],\n                  status: this.state.status[index]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 52\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 37\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"no-data\",\n                children: \"No billing history found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 29\n          }, this) : null, this.state.payment_info_clicked ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"display-settings-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"settings-title payment-information-title\",\n              style: {\n                whiteSpace: 'nowrap',\n                marginLeft: 160 + 'px'\n              },\n              children: \"Payment Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 33\n            }, this), this.state.data_exists ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: this.state.last_four.map((digits, index) => {\n                return /*#__PURE__*/_jsxDEV(PaymentInfo, {\n                  last_four: digits,\n                  category: this.state.category[index],\n                  billing_address: this.state.billing_address[index],\n                  type: this.state.type[index],\n                  exp_month: this.state.exp_month[index],\n                  exp_year: this.state.exp_year[index],\n                  count: this.state.count[index]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 52\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 37\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"no-data\",\n                children: \"No payment information found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 29\n          }, this) : null, this.state.shipping_details_clicked ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"display-settings-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"settings-title shipping-details-title\",\n              style: {\n                whiteSpace: 'nowrap',\n                marginLeft: 200 + 'px'\n              },\n              children: \"Shipping Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 33\n            }, this), this.state.data_exists ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: this.state.category.map((categories, index) => {\n                return /*#__PURE__*/_jsxDEV(ShippingDetails, {\n                  category: categories,\n                  count: this.state.count[index]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 52\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 37\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"no-data\",\n                children: \"No shipping details found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 29\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Settings;","map":{"version":3,"sources":["C:/Users/bekke/Documents/Art Website/client/src/Settings/settings.js"],"names":["React","Component","Header","Footer","axios","createBrowserHistory","AccountSettings","DisclaimerSettings","SubscriptionsSettings","BillingHistory","PaymentInfo","ShippingDetails","Settings","constructor","props","state","data_exists","account_clicked","subscriptions_clicked","billing_history_clicked","payment_info_clicked","shipping_details_clicked","category","count","frequency","price","diet","fragrance","invoice_number","amount","date","status","last_four","billing_address","type","exp_month","exp_year","componentDidMount","user_ID","localStorage","getItem","history","post","then","response","data","setState","subscriptions","forEach","values","push","diet_restrictions","fragrance_allergies","catch","err","window","location","reload","lastFour","billingAddress","render","document","body","style","background","marginLeft","map","categories","index","whiteSpace","digits"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Header from '../Navigation/header';\r\nimport Footer from '../Navigation/footer';\r\nimport './settings.css';\r\nimport axios from 'axios';\r\nimport {createBrowserHistory} from 'history';\r\nimport AccountSettings from './account_settings';\r\nimport DisclaimerSettings from './disclaimer_settings';\r\nimport SubscriptionsSettings from './subscriptions_settings';\r\nimport BillingHistory from './billing_history';\r\nimport PaymentInfo from './payment_info';\r\nimport ShippingDetails from './shipping_details';\r\n\r\n\r\nclass Settings extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data_exists: false,\r\n            account_clicked: false,\r\n            subscriptions_clicked: false,\r\n            billing_history_clicked: false,\r\n            payment_info_clicked: false,\r\n            shipping_details_clicked: false,\r\n            category: [],\r\n            count: [],\r\n            frequency: [],\r\n            price: [],\r\n            diet:[],\r\n            fragrance: [],\r\n            // Billing ---------\r\n            invoice_number: '',\r\n            amount: '',\r\n            date: '',\r\n            status: '',\r\n            // Payment Information ---------\r\n            last_four: '',\r\n            billing_address: '',\r\n            type: '',\r\n            exp_month: '',\r\n            exp_year: ''\r\n        }\r\n    }\r\n    \r\n\r\n    async componentDidMount() {\r\n        const user_ID = localStorage.getItem('user_ID');\r\n        const history = createBrowserHistory();\r\n        \r\n        // Get Subscriptions \r\n        axios.post('http://localhost:8080/subscription-settings', {\r\n            user_ID\r\n        }).then((response) => {\r\n            if(response.data == 'No subscriptions') {\r\n                this.setState({subscriptions: false});\r\n            }else {\r\n                this.setState({data_exists: true});\r\n                response.data.forEach(values => {\r\n                    this.state.category.push(values.category);\r\n                    this.state.frequency.push(values.frequency);\r\n                    this.state.price.push(values.price);\r\n                    this.state.diet.push(values.diet_restrictions);\r\n                    this.state.fragrance.push(values.fragrance_allergies);\r\n                    this.state.count.push(values.count);\r\n                });\r\n            }\r\n        }).catch((err) => {\r\n            if(err.response.status == 404) {\r\n                history.push('/error404/not_found');\r\n                window.location.reload();\r\n            }else if(err.response.status == 500) {\r\n                history.push('/error500/internal_server_error');\r\n                window.location.reload();\r\n            }else {\r\n                history.push('/error');\r\n                window.location.reload();\r\n            }\r\n        });\r\n\r\n            // Get Billing History\r\n            await axios.post('http://localhost:8080/billing-history', {\r\n                user_ID\r\n            }).then((response) => {\r\n                this.setState({\r\n                    invoice_number: response.data.invoice_number,\r\n                    amount: response.data.amount,\r\n                    date: response.data.date,\r\n                    status: response.data.status\r\n                })\r\n            })\r\n\r\n            // Payment Information ------------\r\n            await axios.post('http://localhost:8080/payment-settings', {\r\n                user_ID\r\n            }).then((response) => {\r\n                this.setState({\r\n                    last_four: response.data.lastFour,\r\n                    billing_address: response.data.billingAddress,\r\n                    type: response.data.type,\r\n                    exp_month: response.data.exp_month,\r\n                    exp_year: response.data.exp_year,\r\n                })\r\n            }).catch((err) => {\r\n                if(err.response.status == 404) {\r\n                    history.push('/error404/not_found');\r\n                    window.location.reload();\r\n                }else if(err.response.status == 500) {\r\n                    history.push('/error500/internal_server_error');\r\n                    window.location.reload();\r\n                }else {\r\n                    history.push('/error');\r\n                    window.location.reload();\r\n                }\r\n            })\r\n        }\r\n\r\n    render() {\r\n        document.body.style.background = \"white\";\r\n        return (\r\n            <div>\r\n                <Header /> \r\n                <div className=\"container\">\r\n                    <DisclaimerSettings />\r\n                    <div className=\"settings-navbar d-flex flex-column\">\r\n                        <p onClick={() => this.setState({\r\n                            account_clicked: true, \r\n                            subscriptions_clicked: false,\r\n                            billing_history_clicked: false,\r\n                            payment_info_clicked: false,\r\n                            shipping_details_clicked: false\r\n                            })}>Account</p>\r\n                        <p onClick={() => this.setState({\r\n                            account_clicked: false, \r\n                            subscriptions_clicked: true,\r\n                            billing_history_clicked: false,\r\n                            payment_info_clicked: false,\r\n                            shipping_details_clicked: false\r\n                            })}>Subscriptions</p>\r\n                        <p onClick={() => this.setState({\r\n                            account_clicked: false, \r\n                            subscriptions_clicked: false,\r\n                            billing_history_clicked: true,\r\n                            payment_info_clicked: false,\r\n                            shipping_details_clicked: false\r\n                        })}>Billing History</p>\r\n                        <p onClick={() => this.setState({\r\n                            account_clicked: false, \r\n                            subscriptions_clicked: false,\r\n                            billing_history_clicked: false,\r\n                            payment_info_clicked: true,\r\n                            shipping_details_clicked: false\r\n                        })}>Payment Information</p>\r\n                        <p onClick={() => this.setState({\r\n                            account_clicked: false, \r\n                            subscriptions_clicked: false,\r\n                            billing_history_clicked: false,\r\n                            payment_info_clicked: false,\r\n                            shipping_details_clicked:true\r\n                        })}>Shipping Details</p>\r\n                    </div>\r\n                    <div>\r\n                        {this.state.account_clicked ? <AccountSettings /> : null }\r\n                        {this.state.subscriptions_clicked ? <SubscriptionsSettings \r\n                            category={this.state.category} \r\n                            frequency={this.state.frequency} \r\n                            price={this.state.price} \r\n                            diet={this.state.diet}\r\n                            fragrance={this.state.fragrance}\r\n                            subscription_exists= {true}\r\n                            count= {this.state.count}\r\n                        /> : null}\r\n                        {this.state.billing_history_clicked ? (\r\n                            <div className=\"display-settings-container\">\r\n                                <h1 className=\"settings-title billing-history-settings-title\" style={{marginLeft: 230 + 'px'}}>Billing History</h1>\r\n                                {this.state.data_exists ? (\r\n                                    <div>\r\n                                        <div className=\"invoice-categories d-flex flex-row\">\r\n                                            <p>Inv No.</p>\r\n                                            <p>Amount</p>\r\n                                            <p>Status</p>\r\n                                            <p>Date</p>\r\n                                        </div>\r\n                                        {this.state.category.map((categories, index) => {\r\n                                            return <BillingHistory \r\n                                                category={categories} \r\n                                                invoice_number={this.state.invoice_number[index]}\r\n                                                amount={this.state.amount[index]}\r\n                                                date={this.state.date[index]}\r\n                                                status={this.state.status[index]} \r\n                                            />\r\n                                        })}\r\n                                    </div>\r\n                                ) : (\r\n                                    <div>\r\n                                        <p className=\"no-data\">No billing history found</p>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        ):null}\r\n                            \r\n                        {this.state.payment_info_clicked ? (\r\n                            <div className=\"display-settings-container\">\r\n                                <h1 className=\"settings-title payment-information-title\" style={{whiteSpace:'nowrap', marginLeft: 160 + 'px'}}>Payment Information</h1>\r\n                                {this.state.data_exists ? (\r\n                                    <div>\r\n                                        {this.state.last_four.map((digits, index) => {\r\n                                            return <PaymentInfo \r\n                                                last_four= {digits}\r\n                                                category={this.state.category[index]} \r\n                                                billing_address= {this.state.billing_address[index]}\r\n                                                type= {this.state.type[index]}\r\n                                                exp_month= {this.state.exp_month[index]}\r\n                                                exp_year= {this.state.exp_year[index]}\r\n                                                count= {this.state.count[index]}\r\n                                            />\r\n                                        })}\r\n                                    </div>\r\n                                    ): (\r\n                                        <div>\r\n                                            <p className=\"no-data\">No payment information found</p>\r\n                                        </div>\r\n                                    )}\r\n                            </div> \r\n                        ) : null}\r\n                        {this.state.shipping_details_clicked ? (\r\n                            <div className=\"display-settings-container\">\r\n                                <h1 className=\"settings-title shipping-details-title\" style={{whiteSpace:'nowrap', marginLeft: 200 + 'px'}}>Shipping Details</h1>\r\n                                {this.state.data_exists ? (\r\n                                    <div>\r\n                                        {this.state.category.map((categories, index) => {\r\n                                            return <ShippingDetails \r\n                                                category= {categories} \r\n                                                count= {this.state.count[index]}\r\n                                            /> \r\n                                        })}\r\n                                    </div>\r\n                                ): (\r\n                                    <div>\r\n                                        <p className=\"no-data\">No shipping details found</p>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        ) : null}\r\n                        </div>  \r\n                    </div>\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Settings;"]},"metadata":{},"sourceType":"module"}