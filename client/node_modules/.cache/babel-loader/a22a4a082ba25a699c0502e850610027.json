{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\bekke\\\\Documents\\\\Art Website\\\\client\\\\src\\\\Password\\\\forgot_password.js\";\nimport React, { Component } from 'react';\nimport './forgot_password.css';\nimport { createBrowserHistory } from 'history';\n\nclass ForgotPassword extends Component {\n  constructor() {\n    super();\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.state = {\n      email: '',\n      empty_email_error: '',\n      invalid_email_error: ''\n    };\n  }\n\n  async handleSubmit(e) {\n    e.preventDefault();\n    const history = createBrowserHistory();\n    const user = {\n      email: this.state.email\n    };\n    const response = await fetch('http://localhost:3000//forgot-password', {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(user)\n    }).catch(err => {\n      if (err.response.status == 404) {\n        history.push('/error404/not_found');\n        window.location.reload();\n      } else if (err.response.status == 500) {\n        history.push('/error500/internal_server_error');\n        window.location.reload();\n      } else {\n        history.push('/error');\n        window.location.reload();\n      }\n    });\n    const data = await response.json();\n    const email = document.querySelector('input');\n\n    if (data.email) {\n      email.classList.add('missing-field');\n      this.setState({\n        empty_email_error: data.email.msg\n      });\n    } else if (data.invalid_email) {\n      email.classList.add('missing-field');\n      this.setState({\n        invalid_email_error: data.invalid_email\n      });\n    } else if (data.errors == \"No Errors Found\") {\n      const user_ID = localStorage.getItem('user_ID');\n      history.push('/reset-password/' + user_ID);\n      window.location.reload();\n    } else {\n      return;\n    }\n  }\n\n  handleChange(e) {\n    this.setState({\n      email: e.target.value\n    });\n    const email = document.querySelector('input');\n    email.classList.remove('missing-field');\n    this.setState({\n      empty_email_error: ''\n    });\n    this.setState({\n      invalid_email_error: ''\n    });\n  }\n\n  render() {\n    document.body.style.background = \"white\";\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      id: \"forgotPasswordContainer\",\n      style: {\n        width: 650 + 'px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        id: \"forgot-title\",\n        children: \"Arts and Crafts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        id: \"forgot-subtitle\",\n        children: \"Reset Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"forgot-instructions\",\n        children: \"Please type in the email address you used to create your Arts and Crafts account.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"empty-field\",\n        children: this.state.empty_email_error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"empty-field\",\n        children: this.state.invalid_email_error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form-group\",\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"email\",\n          className: \"email-to-retrieve-password-input\",\n          value: this.state.email,\n          onChange: this.handleChange,\n          id: \"exampleInputEmail1\",\n          \"aria-describedby\": \"emailHelp\",\n          placeholder: \"Email Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-dark\",\n          id: \"submitBtn\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default ForgotPassword;","map":{"version":3,"sources":["C:/Users/bekke/Documents/Art Website/client/src/Password/forgot_password.js"],"names":["React","Component","createBrowserHistory","ForgotPassword","constructor","handleSubmit","bind","handleChange","state","email","empty_email_error","invalid_email_error","e","preventDefault","history","user","response","fetch","method","headers","body","JSON","stringify","catch","err","status","push","window","location","reload","data","json","document","querySelector","classList","add","setState","msg","invalid_email","errors","user_ID","localStorage","getItem","target","value","remove","render","style","background","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './forgot_password.css';\r\nimport {createBrowserHistory} from 'history';\r\n\r\nclass ForgotPassword extends Component {\r\n    constructor() {\r\n        super();\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.state = {\r\n            email: '',\r\n            empty_email_error: '',\r\n            invalid_email_error: ''\r\n        }\r\n    }\r\n\r\n    async handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        const history = createBrowserHistory();\r\n\r\n        const user = {\r\n            email: this.state.email\r\n        }\r\n\r\n        const response = await fetch('http://localhost:3000//forgot-password', {\r\n            method: 'POST',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(user)\r\n        }).catch((err) => {\r\n            if(err.response.status == 404) {\r\n                history.push('/error404/not_found');\r\n                window.location.reload();\r\n            }else if(err.response.status == 500) {\r\n                history.push('/error500/internal_server_error');\r\n                window.location.reload();\r\n            }else {\r\n                history.push('/error');\r\n                window.location.reload();\r\n            }\r\n        });\r\n        \r\n        const data = await response.json();\r\n\r\n        const email = document.querySelector('input');\r\n\r\n        if(data.email) {\r\n            email.classList.add('missing-field');\r\n            this.setState({empty_email_error: data.email.msg});\r\n        }else if(data.invalid_email) {\r\n            email.classList.add('missing-field');\r\n            this.setState({invalid_email_error: data.invalid_email});\r\n        }else if(data.errors == \"No Errors Found\") {\r\n            const user_ID = localStorage.getItem('user_ID');\r\n            history.push('/reset-password/' + user_ID)\r\n            window.location.reload();\r\n        }else {\r\n            return;\r\n        }\r\n    }\r\n\r\n    handleChange(e) {\r\n        this.setState({email: e.target.value});\r\n        const email = document.querySelector('input');\r\n        email.classList.remove('missing-field');\r\n        this.setState({empty_email_error: ''});\r\n        this.setState({invalid_email_error: ''});\r\n    }\r\n\r\n    render() {\r\n        document.body.style.background = \"white\";\r\n        return (\r\n            <div className=\"container\" id=\"forgotPasswordContainer\" style={{width:650 + 'px'}}>\r\n                <h1 id=\"forgot-title\">Arts and Crafts</h1>\r\n                <h2 id=\"forgot-subtitle\">Reset Password</h2>\r\n                <p className=\"forgot-instructions\">Please type in the email address you used to create your Arts and Crafts account.</p>\r\n                <p className=\"empty-field\">{this.state.empty_email_error}</p>\r\n                <p className=\"empty-field\">{this.state.invalid_email_error}</p>\r\n                <form className=\"form-group\" onSubmit={this.handleSubmit}>\r\n                    <input type=\"text\" name=\"email\" className=\"email-to-retrieve-password-input\" value={this.state.email} onChange={this.handleChange} id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Email Address\" />\r\n                    <br />\r\n                    <button type=\"submit\" className=\"btn btn-dark\" id=\"submitBtn\">Submit</button>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default ForgotPassword"]},"metadata":{},"sourceType":"module"}