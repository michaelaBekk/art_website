{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\bekke\\\\Documents\\\\Art Website\\\\client\\\\src\\\\Settings\\\\edit_shipping_address.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { createBrowserHistory } from 'history';\nimport ShippingCountryList from '../Payment/shipping_country_list';\nimport ShippingStateList from '../Payment/shipping_state_list';\nexport default class EditShippingAddress extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.updateShippingCountry = this.updateShippingCountry.bind(this);\n    this.updateShippingState = this.updateShippingState.bind(this);\n    this.state = {\n      category: this.props.category,\n      count: this.props.count,\n      shipping_address: '',\n      first_shipping_address: '',\n      second_shipping_address: '',\n      shipping_city: '',\n      shipping_country: '',\n      shipping_state: '',\n      shipping_zip: '',\n      // Errors ---------\n      first_shipping_address_error: '',\n      second_shipping_address_error: '',\n      shipping_city_error: '',\n      shipping_country_error: '',\n      shipping_state_error: '',\n      shipping_zip_error: ''\n    };\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n    e.target.classList.remove('missing-field');\n    this.setState({\n      [e.target.name + '_error']: ''\n    });\n  } //Update Shipping Country ----------------\n\n\n  updateShippingCountry(value) {\n    const shippingStateLabel = document.querySelector('.shipping-state-label');\n    this.setState({\n      shipping_country: value\n    });\n\n    if (value == 'US') {\n      this.setState({\n        select_shipping_state: true\n      });\n      shippingStateLabel.style.display = \"block\";\n    } else {\n      this.setState({\n        select_shipping_state: false\n      });\n      shippingStateLabel.style.display = \"\";\n    }\n  } //Update Shipping State ----------------\n\n\n  updateShippingState(value) {\n    this.setState({\n      shipping_state: value\n    });\n  } // Update Shipping Address ------------\n\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const user_ID = localStorage.getItem('user_ID');\n    const history = createBrowserHistory();\n    axios.post('/update-shipping-address', {\n      user_ID,\n      category: this.state.category,\n      count: this.state.count,\n      first_shipping_address: this.state.first_shipping_address,\n      second_shipping_address: this.state.second_shipping_address,\n      shipping_city: this.state.shipping_city,\n      shipping_country: this.state.shipping_country,\n      shipping_state: this.state.shipping_state,\n      shipping_zip: this.state.shipping_zip\n    }).then(response => {\n      const errors = [response.data.first_shipping_address, response.data.shipping_city, response.data.shipping_zip]; // Payment Form Errors --------------\n\n      const input = document.querySelectorAll('.edit-payment-input');\n\n      for (let e = 0; e < errors.length; e++) {\n        if (errors[e]) {\n          input[e].classList.add('missing-field');\n          this.setState({\n            [input[e].name + '_error']: errors[e].msg\n          });\n        } else {\n          input[e].classList.remove('missing-field');\n          this.setState({\n            [input[e].name + '_error']: ''\n          });\n        }\n      } // Country Errors ----------------\n\n\n      const shippingCountryButton = document.querySelector('.shipping-country-button');\n\n      if (response.data.shipping_country) {\n        this.setState({\n          shipping_country_error: response.data.shipping_country.msg\n        });\n        shippingCountryButton.classList.add('missing-field');\n      }\n\n      shippingCountryButton.addEventListener('click', () => {\n        this.setState({\n          shipping_country_error: ''\n        });\n        shippingCountryButton.classList.remove('missing-field');\n      }); // State Errors ------------------\n\n      const shippingStateButton = document.getElementById('shippingStateButton');\n\n      if (response.data.shipping_state) {\n        this.setState({\n          shipping_state_error: response.data.shipping_state\n        });\n        shippingStateButton.classList.add('missing-field');\n        shippingStateButton.addEventListener('click', () => {\n          this.setState({\n            shipping_state_error: ''\n          });\n          shippingStateButton.classList.remove('missing-field');\n        });\n        return /*#__PURE__*/_jsxDEV(ShippingStateList, {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"state-selection-button\",\n            id: \"shippingStateButton\",\n            children: [\"Select State\", /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-caret-down btn-arrow\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 123\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 25\n        }, this);\n      }\n\n      if (response.data == 'Shipping Address Updated') {\n        this.props.successful_shipping_address_update('true');\n        this.props.shipping_address(`${this.state.first_shipping_address},\n                    ${this.state.second_shipping_address},\n                    ${this.state.shipping_city},\n                    ${this.state.shipping_country},\n                    ${this.state.shipping_state},\n                    ${this.state.shipping_zip}`);\n      }\n    }).catch(err => {\n      if (err.response.status == 404) {\n        history.push('/error404/not_found');\n        window.location.reload();\n      } else if (err.response.status == 500) {\n        history.push('/error500/internal_server_error');\n        window.location.reload();\n      } else {\n        history.push('/error');\n        window.location.reload();\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edit-shipping-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"address1\",\n            className: \"edit-payment-label\",\n            children: [\"Address 1\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"first_shipping_address\",\n              value: this.state.first_shipping_address,\n              onChange: this.handleChange,\n              className: \"edit-payment-input\",\n              placeholder: \"1234 Main St\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"empty-field\",\n              style: {\n                color: '#b30000'\n              },\n              children: this.state.first_shipping_address_error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"address2\",\n            className: \"edit-payment-label\",\n            id: \"address2Label\",\n            children: [\"Address 2\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"second_shipping_address\",\n              value: this.state.second_shipping_address,\n              onChange: this.handleChange,\n              className: \"secondAddressInput\",\n              placeholder: \"Apartment, studio, or floor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"edit-shipping-location-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex flex-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"city\",\n                className: \"edit-payment-label\",\n                children: [\"City\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"shipping_city\",\n                  onChange: this.handleChange,\n                  value: this.state.shipping_city,\n                  className: \"edit-payment-input\",\n                  id: \"inputCity\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"empty-field\",\n                  style: {\n                    color: '#b30000'\n                  },\n                  children: this.state.shipping_city_error\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"zip_code\",\n                className: \"edit-payment-label\",\n                id: \"editZipCode\",\n                children: [\"Zip\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"shipping_zip\",\n                  onChange: this.handleChange,\n                  value: this.state.shipping_zip,\n                  className: \"edit-payment-input\",\n                  id: \"inputZip\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"empty-field\",\n                  style: {\n                    color: '#b30000'\n                  },\n                  children: this.state.shipping_zip_error\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"country\",\n                className: \"edit-payment-label\",\n                children: [\"Country\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(ShippingCountryList, {\n                  country: this.updateShippingCountry\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"empty-field\",\n                  style: {\n                    color: '#b30000'\n                  },\n                  children: this.state.shipping_country_error\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"state\",\n                className: \"edit-payment-label shipping-state-label\",\n                children: [\"State\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 37\n                }, this), this.state.select_shipping_state ? /*#__PURE__*/_jsxDEV(ShippingStateList, {\n                  state: this.updateShippingState\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 73\n                }, this) : null, /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"empty-field\",\n                  style: {\n                    color: '#b30000'\n                  },\n                  children: this.state.shipping_state_error\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"save-payment-info\",\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/bekke/Documents/Art Website/client/src/Settings/edit_shipping_address.js"],"names":["React","Component","axios","createBrowserHistory","ShippingCountryList","ShippingStateList","EditShippingAddress","constructor","props","handleChange","bind","handleSubmit","updateShippingCountry","updateShippingState","state","category","count","shipping_address","first_shipping_address","second_shipping_address","shipping_city","shipping_country","shipping_state","shipping_zip","first_shipping_address_error","second_shipping_address_error","shipping_city_error","shipping_country_error","shipping_state_error","shipping_zip_error","e","setState","target","name","value","classList","remove","shippingStateLabel","document","querySelector","select_shipping_state","style","display","preventDefault","user_ID","localStorage","getItem","history","post","then","response","errors","data","input","querySelectorAll","length","add","msg","shippingCountryButton","addEventListener","shippingStateButton","getElementById","successful_shipping_address_update","catch","err","status","push","window","location","reload","render","color"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport {createBrowserHistory} from 'history';\r\nimport ShippingCountryList from '../Payment/shipping_country_list';\r\nimport ShippingStateList from '../Payment/shipping_state_list';\r\n\r\nexport default class EditShippingAddress extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.updateShippingCountry = this.updateShippingCountry.bind(this);\r\n        this.updateShippingState = this.updateShippingState.bind(this);\r\n        this.state = {\r\n            category: this.props.category,\r\n            count: this.props.count,\r\n            shipping_address: '',\r\n            first_shipping_address: '',\r\n            second_shipping_address: '',\r\n            shipping_city: '',\r\n            shipping_country: '',\r\n            shipping_state: '',\r\n            shipping_zip: '',\r\n            // Errors ---------\r\n            first_shipping_address_error: '',\r\n            second_shipping_address_error: '',\r\n            shipping_city_error: '',\r\n            shipping_country_error: '',\r\n            shipping_state_error: '',\r\n            shipping_zip_error: '',\r\n        }\r\n    }\r\n    \r\n    handleChange(e) {\r\n        this.setState({[e.target.name]: e.target.value});\r\n        e.target.classList.remove('missing-field');\r\n        this.setState({ [e.target.name + '_error']: '' });\r\n    }\r\n\r\n    //Update Shipping Country ----------------\r\n    updateShippingCountry(value) {\r\n        const shippingStateLabel = document.querySelector('.shipping-state-label');\r\n        this.setState({shipping_country: value});\r\n        if(value == 'US') {\r\n            this.setState({select_shipping_state: true});\r\n            shippingStateLabel.style.display = \"block\";\r\n        }else {\r\n            this.setState({select_shipping_state: false});\r\n            shippingStateLabel.style.display = \"\";\r\n        }\r\n    }\r\n\r\n    //Update Shipping State ----------------\r\n    updateShippingState(value) {\r\n        this.setState({shipping_state: value});\r\n    }\r\n\r\n    // Update Shipping Address ------------\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        const user_ID = localStorage.getItem('user_ID');\r\n        const history = createBrowserHistory();\r\n        \r\n        axios.post('/update-shipping-address', {\r\n            user_ID,\r\n            category: this.state.category,\r\n            count: this.state.count,\r\n            first_shipping_address: this.state.first_shipping_address,\r\n            second_shipping_address: this.state.second_shipping_address,\r\n            shipping_city: this.state.shipping_city,\r\n            shipping_country: this.state.shipping_country,\r\n            shipping_state: this.state.shipping_state,\r\n            shipping_zip: this.state.shipping_zip\r\n        }).then((response) => {\r\n\r\n            const errors = [\r\n                response.data.first_shipping_address,\r\n                response.data.shipping_city,\r\n                response.data.shipping_zip\r\n            ];\r\n\r\n            // Payment Form Errors --------------\r\n            const input = document.querySelectorAll('.edit-payment-input');\r\n            for(let e=0; e < errors.length; e++) {\r\n                if(errors[e]) {\r\n                    input[e].classList.add('missing-field');\r\n                    this.setState({ [input[e].name + '_error']: errors[e].msg });\r\n                }else {\r\n                    input[e].classList.remove('missing-field');\r\n                    this.setState({ [input[e].name + '_error']: '' });\r\n                }\r\n            }\r\n\r\n            // Country Errors ----------------\r\n            const shippingCountryButton = document.querySelector('.shipping-country-button');\r\n            \r\n            if(response.data.shipping_country) {\r\n                this.setState({shipping_country_error: response.data.shipping_country.msg});\r\n                shippingCountryButton.classList.add('missing-field');\r\n            }\r\n\r\n            shippingCountryButton.addEventListener('click', () => {\r\n                this.setState({shipping_country_error: ''});\r\n                shippingCountryButton.classList.remove('missing-field');\r\n            });\r\n\r\n            // State Errors ------------------\r\n            const shippingStateButton = document.getElementById('shippingStateButton');\r\n\r\n            if(response.data.shipping_state) {\r\n                this.setState({shipping_state_error: response.data.shipping_state});\r\n                shippingStateButton.classList.add('missing-field');\r\n\r\n                shippingStateButton.addEventListener('click', () => {\r\n                    this.setState({shipping_state_error: ''});\r\n                    shippingStateButton.classList.remove('missing-field');\r\n                });\r\n                \r\n                return  <ShippingStateList>\r\n                            <button type=\"button\" className=\"state-selection-button\" id=\"shippingStateButton\">Select State<i className=\"fa fa-caret-down btn-arrow\"></i></button>\r\n                        </ShippingStateList> \r\n            }\r\n\r\n            if(response.data == 'Shipping Address Updated') {\r\n                this.props.successful_shipping_address_update('true');\r\n                this.props.shipping_address(\r\n                    `${this.state.first_shipping_address},\r\n                    ${this.state.second_shipping_address},\r\n                    ${this.state.shipping_city},\r\n                    ${this.state.shipping_country},\r\n                    ${this.state.shipping_state},\r\n                    ${this.state.shipping_zip}`\r\n                )\r\n            }\r\n            \r\n        }).catch((err) => {\r\n            if(err.response.status == 404) {\r\n                history.push('/error404/not_found');\r\n                window.location.reload();\r\n            }else if(err.response.status == 500) {\r\n                history.push('/error500/internal_server_error');\r\n                window.location.reload();\r\n            }else {\r\n                history.push('/error');\r\n                window.location.reload();\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <div className=\"edit-shipping-container\">\r\n                        <label htmlFor=\"address1\" className=\"edit-payment-label\">Address 1\r\n                            <br />\r\n                            <input type=\"text\" name=\"first_shipping_address\" value={this.state.first_shipping_address} onChange={this.handleChange} className=\"edit-payment-input\" placeholder=\"1234 Main St\" />\r\n                            <p className=\"empty-field\" style={{color: '#b30000'}}>{this.state.first_shipping_address_error}</p>\r\n                        </label>\r\n                        <label htmlFor=\"address2\" className=\"edit-payment-label\" id=\"address2Label\">Address 2\r\n                            <br />\r\n                            <input type=\"text\" name=\"second_shipping_address\" value={this.state.second_shipping_address} onChange={this.handleChange} className=\"secondAddressInput\" placeholder=\"Apartment, studio, or floor\" />\r\n                        </label>\r\n                        <div className=\"edit-shipping-location-container\">\r\n                            <div className=\"d-flex flex-row\">\r\n                                <label htmlFor=\"city\" className=\"edit-payment-label\">City\r\n                                    <br />\r\n                                    <input type=\"text\" name=\"shipping_city\" onChange={this.handleChange} value={this.state.shipping_city} className=\"edit-payment-input\" id=\"inputCity\" />\r\n                                    <p className=\"empty-field\" style={{color: '#b30000'}}>{this.state.shipping_city_error}</p>\r\n                                </label>\r\n                                <label htmlFor=\"zip_code\" className=\"edit-payment-label\" id=\"editZipCode\">Zip\r\n                                    <br />\r\n                                    <input type=\"text\" name=\"shipping_zip\" onChange={this.handleChange} value={this.state.shipping_zip} className=\"edit-payment-input\" id=\"inputZip\" />\r\n                                    <p className=\"empty-field\" style={{color: '#b30000'}}>{this.state.shipping_zip_error}</p>\r\n                                </label>\r\n                            </div>\r\n                            <div>\r\n                                <br />\r\n                                <label htmlFor=\"country\" className=\"edit-payment-label\">Country\r\n                                    <br />\r\n                                    <ShippingCountryList country={this.updateShippingCountry} />\r\n                                    <p className=\"empty-field\" style={{color: '#b30000'}}>{this.state.shipping_country_error}</p>\r\n                                </label>\r\n                                <label htmlFor=\"state\" className=\"edit-payment-label shipping-state-label\">State\r\n                                    <br />\r\n                                    {this.state.select_shipping_state ? <ShippingStateList state={this.updateShippingState}  /> : null}\r\n                                    <p className=\"empty-field\"  style={{color: '#b30000'}}>{this.state.shipping_state_error}</p>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <button type=\"submit\" className=\"save-payment-info\">Save</button>  \r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}